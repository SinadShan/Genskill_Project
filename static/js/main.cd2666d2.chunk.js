(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(2),s=n.n(r),i=n(6),d=n.n(i),c=(n(15),n(7)),a=n(8),l=n(1),o=n(10),m=n(9),u=(n(4),n(0));var h=function(e){return Object(u.jsx)("div",{class:"container",children:Object(u.jsx)("div",{class:"row justify-content-center d-flex flex-column min-vh-100 align-items-center",children:Object(u.jsxs)("div",{class:"col-sm-9 col-lg-6 contact-form justify-content-center",children:[Object(u.jsx)("h2",{id:"heading",children:"Login"}),Object(u.jsx)("div",{class:"row justify-content-center text-center",children:Object(u.jsxs)("form",{method:"post",children:[Object(u.jsxs)("div",{class:"form-group form-floating",children:[Object(u.jsx)("input",{type:"text",required:!0,name:"username",class:"form-control username",placeholder:"Username"}),Object(u.jsx)("label",{htmlFor:"username",children:"Username"})]}),Object(u.jsxs)("div",{class:"form-group form-floating",children:[Object(u.jsx)("input",{type:"password",required:!0,name:"password",class:"form-control password",placeholder:"Enter the password"}),Object(u.jsx)("label",{htmlFor:"password",children:"Password"})]}),Object(u.jsx)("span",{children:Object(u.jsxs)("div",{class:"form-group form-floating",hidden:"true",id:"signup-password",children:[Object(u.jsx)("input",{type:"password",name:"password-again",class:"form-control",placeholder:"Enter the password again"}),Object(u.jsx)("label",{htmlFor:"password",children:"Repeat Password"})]})}),Object(u.jsx)("span",{children:Object(u.jsxs)("div",{class:"form-group ",children:[Object(u.jsx)("input",{type:"submit",onClick:e.do,name:"btnSubmit",class:"btnContact",value:"Submit"}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{class:"text-muted",children:"Don't have an account?  "}),Object(u.jsx)("a",{id:"signup-link",onClick:e.toggleSignup,children:"Signup"})]})})]})})]})})})};n(5);function j(e){var t=e.target.parentElement.children[0].children[0];"Mark as completed"===e.target.innerHTML?(e.target.innerHTML="Unmark",t.style.textDecoration="line-through"):(e.target.innerHTML="Mark as completed",t.style.textDecoration="None")}var g=function(e){return Object(u.jsx)("div",{className:"col-4",children:Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(u.jsx)("div",{className:"row justify-content-end",children:Object(u.jsx)("div",{className:"col-2",children:Object(u.jsx)("i",{className:"bi bi-x",onClick:e.deleteRem})})}),Object(u.jsxs)("div",{className:"row align-middle",children:[Object(u.jsx)("p",{style:{fontSize:"1.25rem"},className:"card-text",children:e.reminder[1]}),Object(u.jsxs)("form",{method:"post",children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",style:{fontSize:"1.5rem"},disabled:!0,name:"reminder",className:"form-control",value:e.reminder[0]})}),Object(u.jsx)("p",{className:"text-muted",onClick:j,children:"Mark as completed"})]})]})]})})})};function b(e){return Object(u.jsx)("div",{className:"col-4",children:Object(u.jsx)("div",{className:"card",children:Object(u.jsx)("div",{className:"card-body d-flex justify-content-center align-items-center",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("h5",{className:"card-title",children:"Stay Productive!"}),Object(u.jsx)("form",{hidden:!0,id:"new-reminder-form",children:Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{type:"date",name:"date",className:"form-control new-reminder-req datepicker",placeholder:"Date"}),Object(u.jsx)("input",{type:"text",name:"reminder",className:"form-control new-reminder-req",autocomplete:"off",placeholder:"Reminder"}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-6",children:Object(u.jsx)("input",{type:"button",id:"cancel",className:"form-control btn btn-primary",onClick:e.cancel,value:"Cancel"})}),Object(u.jsx)("div",{className:"col-6",children:Object(u.jsx)("input",{type:"submit",onClick:e.submit,className:"form-control btn btn-primary",value:"Submit"})})]})]})}),Object(u.jsx)("a",{id:"new-reminder",className:"btn btn-primary",onClick:e.addRem,children:"Add a Reminder"})]})})})})}var p=function(e){Object(o.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).submitForm=r.submitForm.bind(Object(l.a)(r)),r.toggleSignup=r.toggleSignup.bind(Object(l.a)(r)),r.toggleAddReminder=r.toggleAddReminder.bind(Object(l.a)(r)),r.submitNewReminder=r.submitNewReminder.bind(Object(l.a)(r)),r.cancelAdd=r.cancelAdd.bind(Object(l.a)(r)),r.deleteReminder=r.deleteReminder.bind(Object(l.a)(r)),r.logout=r.logout.bind(Object(l.a)(r)),r.state={isLoggedin:!1,response:null,user:null},r}return Object(a.a)(n,[{key:"toggleSignup",value:function(e){"Signup"===e.target.innerText?(document.getElementById("signup-password").removeAttribute("hidden"),document.getElementsByClassName("text-muted")[0].setAttribute("hidden","true"),document.getElementById("signup-password").children[0].setAttribute("required","true"),document.getElementById("heading").innerText="Signup",document.getElementById("signup-link").innerText="Login"):(document.getElementById("signup-password").setAttribute("hidden","true"),document.getElementsByClassName("text-muted")[0].removeAttribute("hidden"),document.getElementById("signup-password").children[0].removeAttribute("required"),document.getElementById("heading").innerText="Login",document.getElementById("signup-link").innerText="Signup")}},{key:"submitForm",value:function(e){var t=this;e.preventDefault();var n=document.getElementsByTagName("form")[0],r=new FormData(n),s=Object.fromEntries(r.entries()),i=JSON.stringify(s);"Login"===document.getElementById("heading").innerText?fetch("http://localhost:5000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:i}).then((function(e){return e.json().then((function(e){e?(t.setState({response:e}),t.setState({isLoggedin:!0}),t.setState({user:s.username})):alert("Invalid username or password")}))})):fetch("http://localhost:5000/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:i}).then((function(e){return e.json().then((function(e){e?(t.setState({response:e}),t.setState({isLoggedin:!0}),t.setState({user:s.username})):alert("Failed to sign-up")}))}))}},{key:"toggleAddReminder",value:function(e){e.preventDefault(),document.getElementById("new-reminder-form").removeAttribute("hidden"),document.getElementById("cancel").removeAttribute("hidden"),document.getElementsByClassName("new-reminder-req")[0].setAttribute("required",""),document.getElementsByClassName("new-reminder-req")[1].setAttribute("required",""),document.getElementById("new-reminder").hidden="true"}},{key:"submitNewReminder",value:function(e){var t=this;e.preventDefault();var n=document.getElementById("new-reminder-form"),r=new FormData(n),s=Object.fromEntries(r.entries());s.username=this.state.user;var i=JSON.stringify(s);fetch("http://localhost:5000/addrem",{method:"POST",headers:{"Content-Type":"application/json"},body:i}).then((function(e){return e.json().then((function(e){e&&t.setState({response:e},(function(){localStorage.setItem("response",JSON.stringify(e)),this.cancelAdd(),document.getElementsByClassName("new-reminder-req")[0].value="",document.getElementsByClassName("new-reminder-req")[1].value=""}))}))}))}},{key:"cancelAdd",value:function(){document.getElementById("new-reminder-form").hidden="true",document.getElementById("new-reminder").removeAttribute("hidden"),document.getElementsByClassName("new-reminder-req")[0].removeAttribute("required"),document.getElementsByClassName("new-reminder-req")[1].removeAttribute("required"),document.getElementById("cancel").hidden="true",document.getElementsByClassName("new-reminder-req")[0].value="",document.getElementsByClassName("new-reminder-req")[1].value=""}},{key:"deleteReminder",value:function(e){var t=this,n={};n.reminder=e.target.parentElement.parentElement.parentElement.children[1].children[1].children[0].children[0].value,n.date=e.target.parentElement.parentElement.parentElement.children[1].children[0].innerText,n.username=this.state.user,console.log(n);var r=JSON.stringify(n);fetch("http://localhost:5000/deleteRem",{method:"POST",headers:{"Content-Type":"application/json"},body:r}).then((function(e){return e.json().then((function(e){e&&t.setState({response:e})}))}))}},{key:"logout",value:function(){this.setState({isLoggedin:!1}),this.setState({user:null}),this.setState({response:null})}},{key:"render",value:function(){var e=this;return!1===this.state.isLoggedin&&null!=localStorage.getItem("response")?Object(u.jsx)("div",{children:Object(u.jsx)(h,{do:this.submitForm,toggleSignup:this.toggleSignup})}):Object(u.jsxs)("div",{className:"container-fluid",style:{padding:"0"},children:[Object(u.jsxs)("div",{className:"header align-middle",style:{backgroundColor:"#36373f",padding:"15px 15px 15px 30px",marginBottom:"10px"},children:[Object(u.jsxs)("h1",{style:{color:"white",display:"inline-block"},children:["User: ",this.state.user]}),Object(u.jsx)("p",{className:"logout text-muted",onClick:this.logout,children:"Logout"})]}),Object(u.jsx)("div",{className:"container",style:{padding:"0"},children:Object(u.jsxs)("div",{className:"row",style:{padding:"10px"},children:[this.state.response.reminders?this.state.response.reminders.map((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(u.jsx)(g,{reminder:t,deleteRem:e.deleteReminder},n++)})):null,Object(u.jsx)(b,{addRem:this.toggleAddReminder,cancel:this.cancelAdd,submit:this.submitNewReminder})]})})]})}}]),n}(s.a.Component),x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,i=t.getLCP,d=t.getTTFB;n(e),r(e),s(e),i(e),d(e)}))};d.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root")),x()},4:function(e,t,n){},5:function(e,t,n){}},[[17,1,2]]]);
//# sourceMappingURL=main.cd2666d2.chunk.js.map